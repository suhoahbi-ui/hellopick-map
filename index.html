 <!DOCTYPE html>
  <html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=92e81dd90b3573e113dc9646d32c443d"></script>
    <style>
      * { margin: 0; padding: 0; }
      html, body, #map { width: 100%; height: 100%; }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const lat = parseFloat(urlParams.get('lat')) || 37.5665;
      const lng = parseFloat(urlParams.get('lng')) || 126.9780;
      const zoom = parseInt(urlParams.get('zoom')) || 3;

      var map = new kakao.maps.Map(document.getElementById('map'), {
        center: new kakao.maps.LatLng(lat, lng),
        level: zoom
      });

      function sendToRN(data) {
        if (window.ReactNativeWebView) {
          window.ReactNativeWebView.postMessage(JSON.stringify(data));
        }
      }

      kakao.maps.event.addListener(map, 'click', function(e) {
        sendToRN({ type: 'mapClick', lat: e.latLng.getLat(), lng: e.latLng.getLng() });
      });

      kakao.maps.event.addListener(map, 'idle', function() {
        var center = map.getCenter();
        sendToRN({ type: 'mapIdle', lat: center.getLat(), lng: center.getLng(), zoom: map.getLevel() });
      });

      sendToRN({ type: 'ready' });
    </script>
  </body>
  </html>
